<!DOCTYPE html>
<html lang="pt-br">

<head>
  <meta charset="UTF-8">
  <title>Bandas - SPA</title>
  <link rel="stylesheet" href="./css/estilo.css">
  <style>
    body {
      font-family: Arial, sans-serif;
      padding: 20px;
    }

    nav {
      font-size: 1.5em;
      margin-bottom: 20px;
    }

    nav a {
      text-decoration: none;
      color: #e50914;
      margin-right: 20px;
      transition: color 0.3s;
    }

    nav a:hover {
      color: #b20710;
    }

    .pagina {
      transition: opacity 0.3s ease-in-out;
    }
  </style>
</head>

<body class="conteudo">
  <nav>
    <a href="#" wm-link="series.html" wm-destino=".pagina">ðŸ“º SÃ©ries</a>
    <a href="#" wm-link="linguagens.html" wm-destino=".pagina">ðŸ’» Linguagens</a>
  </nav>

  <div class="pagina">Bem-vindo ao CatÃ¡logo de bandas!</div>

  <script>
    const navegarViaAjax = async (url, seletor, push = true) => {
      if (!url || !seletor) return;

      try {
        const elemento = document.querySelector(seletor);
        const resposta = await fetch(url);
        const conteudo = await resposta.text();

        elemento.style.opacity = 0;
        setTimeout(() => {
          elemento.innerHTML = conteudo;
          elemento.style.opacity = 1;
        }, 200);

        if (push) {
          history.pushState({ seletor }, '', url);
        }
      } catch (erro) {
        console.error('Erro ao carregar a pÃ¡gina:', erro);
      }
    };

    document.querySelectorAll('[wm-link]').forEach(link => {
      const url = link.getAttribute('wm-link');
      const destino = link.getAttribute('wm-destino');

      link.addEventListener('click', event => {
        event.preventDefault();
        navegarViaAjax(url, destino);
      });
    });

    window.onpopstate = e => {
      if (e.state) {
        navegarViaAjax(window.location.href, e.state.seletor, false);
      }
    };
  </script>
</body>
